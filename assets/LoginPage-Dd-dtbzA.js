import{a as p,u as h,j as o,i as t,L as c,b as w,c as i,_}from"./index-CpLVpzc3.js";import{E as v}from"./EmailLabel-D_VU_skp.js";import{A as u}from"./ApplyButton-DJkVemyC.js";import{P as x}from"./PasswordLabel-uEM7Qzgt.js";const f="_icon__eye_1ewvr_1",j="_icon__logo_1ewvr_1",b="_icon__service_1ewvr_1",y="_title_1ewvr_1",N="_form_1ewvr_1",L="_variant_1ewvr_3",k="_login__btn__wrapper_1ewvr_29",E="_log_1ewvr_29",I="_have_acc_1ewvr_40",P="_span_1ewvr_47",A="_forgot_1ewvr_51",G="_login__with_1ewvr_63",s={icon__eye:f,icon__logo:j,icon__service:b,title:y,form:N,variant:L,login__btn__wrapper:k,log:E,have_acc:I,span:P,forgot:A,login__with:G},F=()=>{const l=p({onSuccess:async a=>{try{const e=await w.get("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${a.access_token}`}});n(i({email:e.data.email,password:e.data.sub}))}catch(e){console.log(e)}},onError:a=>console.log("Login Failed:",a)}),n=h(),g=a=>{a.preventDefault();const e=a.currentTarget,m=e.elements.namedItem("mail"),d=e.elements.namedItem("password");n(i({email:m.value,password:d.value})).then(r=>{if(r.payload.details)throw new Error;_.success(r.payload.detail)}).catch(()=>_.error("User not found"))};return o.jsxs("div",{children:[o.jsx("h2",{className:s.title,children:"Log in to your account"}),o.jsxs("div",{className:s.log,children:[o.jsxs("div",{className:s.login__btn__wrapper,children:[o.jsxs("button",{onClick:()=>l(),className:s.login__with,children:[o.jsx("svg",{className:s.icon__service,children:o.jsx("use",{href:t+"#google"})}),"Google"]}),o.jsxs("button",{className:s.login__with,onClick:()=>{},children:[o.jsx("svg",{className:s.icon__service,children:o.jsx("use",{href:t+"#github"})}),"Github"]})]}),o.jsx("p",{className:s.variant,children:"or"}),o.jsxs("form",{onSubmit:g,className:s.form,children:[o.jsx(v,{placeholder:"Work email"}),o.jsx(x,{placeholder:"Password",name:"password"}),o.jsx(c,{to:"/forgot",className:s.forgot,children:"Forgot your password?"}),o.jsx(u,{text:"Log in to Qencode"}),o.jsxs("p",{className:s.have_acc,children:["Is your company new to Qencode?"," ",o.jsx(c,{to:"/reset",className:s.span,children:"Sign up"})]})]})]})]})};export{F as default};
